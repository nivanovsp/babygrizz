{% extends 'blog/base_blogs.html' %}

{% block page_title %}
<!-- Blog Entries Column -->
<div class="col-md-8">
    <h1 class="my-4">Baby Grizzly
        <small>All Blog Categories</small>
    </h1>
</div>
{% endblock %}

{% block blog_content %}

<div class="container-fluid bg-light">
    <h3>Category 1</h3>
    <hr>
    <div class="row align-items-center">
        {% for obj in filter.qs %}
        {% if obj.published %}
        {% if obj.category == 'Category 1' %}
        <div class="col-md-4">
            <div class="card mb-4">
                <div class="card-body">
                    <h5 class="card-title">{{ obj.title }}</h5>
                    <p class="card-text">{{ obj.description|striptags|truncatechars:50 }}</p>
                    <p>Author:
                        <a href="{% url 'author' obj.user_id %}">{{ obj.user.first_name }} {{ obj.user.last_name }}</a>
                    </p>
                    <a href="{% url 'detail' obj.id %}" class="btn btn-primary">Read More &rarr;</a>
                    <a href="{% url 'detail' obj.id %}" class="btn btn-primary">Read More &rarr;</a>
                </div>
                <div class="card-footer text-muted">
                    Posted on {{ obj.publish|date:'M d Y' }}
                </div>
            </div>
        </div>
        {% endif %}
        {% endif %}
        {% endfor %}
    </div>

    <br>
    <h3>Category 2</h3>
    <hr>
    <div class="row align-items-center">
        {% for obj in filter.qs %}
        {% if obj.published %}
        {% if obj.category == 'Category 2' %}
        <div class="col-md-4">
            <div class="card mb-4">
                <div class="card-body">
                    <h5 class="card-title">Title: {{ obj.title }}</h5>
                    <p class="card-text">{{ obj.description|striptags|truncatechars:80 }}</p>
                    <p>Author:
                        <a href="{% url 'author' obj.user_id %}">{{ obj.user.first_name }} {{ obj.user.last_name }}</a>
                    </p>
                    <a href="{% url 'detail' obj.id %}" class="btn btn-primary">Read More &rarr;</a>
                </div>
                <div class="card-footer text-muted">
                    Posted on {{ obj.publish|date:'M d Y' }}
                </div>
            </div>
        </div>
        {% endif %}
        {% endif %}
        {% endfor %}
    </div>

    <div class="row flex-fill">
        <div class="col-sm-12">
            <div class="d-flex justify-content-around">
                <a href="{% url 'all_blogs' %}" class="btn btn-primary btn-lg">View All Blogs</a>
            </div>
            <br>
        </div>
    </div>
</div>


{% load static %}

{% endblock %}